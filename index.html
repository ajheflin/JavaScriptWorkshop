<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>JS Form</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
  </head>
  <body>
    <div class="wrapper">
      <form id="form" method="post">
        <input id="username" type="text" name="Username" value="" placeholder="Username" />
        <input id="password" type="password" name="password" value="" placeholder="Password" />

        <input type="submit" name="submit" value="Log In" />
        <p id="outputText"></p>
        <script type="text/javascript">
          let formState = {
            username: "",
            password: ""
          }

          const usernameUpdateHandler = (event) => {
            formState.username = event.target.value;

            if(formState.username.length < 6) {
              document.getElementById("username").style.borderBottomColor = "red";
            } else {
              document.getElementById("username").style.borderBottomColor = "auto";
            }
          }
          function passwordUpdateHandler(event) {
            formState.password = event.target.value;
            if(formState.password.length < 8) {
              document.getElementById("password").style.borderBottomColor = "red";
            } else {
              document.getElementById("password").style.borderBottomColor = "auto";
            }
          }

          document.getElementById("username").addEventListener("change", usernameUpdateHandler);

          document.getElementById("password").addEventListener("change", passwordUpdateHandler);

          document.getElementById("form").addEventListener("submit", function(e) {
            e.preventDefault();
            let outputBox = document.getElementById("outputText");

            let outputText = "";

            const uNameRegex = new RegExp("[a-zA-Z0-9]{6,}");

            if(!uNameRegex.test(formState.username)) {
              outputText = "Invalid username!";
              document.getElementById("username").style.borderBottomColor = "red";
            }

            const pwordRegex = new RegExp("[a-zA-Z0-9]{8,}");

            if(!pwordRegex.test(formState.password)) {
              outputText += "<br />Invalid password!";
              document.getElementById("password").style.borderBottomColor = "red";
            }
            if(formState.username.length >= 6 && formState.password.length >= 8) {
              outputText = "You Entered: <br /> Username: " + formState.username + "<br />Password: " + formState.password;
              document.getElementById("username").style.borderBottomColor = "black";
              document.getElementById("password").style.borderBottomColor = "black";
            }
            outputBox.innerHTML = outputText;

            return false;
          });
        </script>
      </form>
    </div>
  </body>
</html>
